{% extends "saas.app.modules.accounting:templates/default.html" %}

{% block title %}
Accounting - Accounts
{% endblock title %}

{% block content %}
<notification-list></notification-list>
{% endblock content %}

{% block scripts %}
<script type="module" src="/static/js/components/notification.list.js"></script>
<script type="module" src="/static/js/helpers/accounts.js"></script>
<script type="module">
'use strict';
import { Accounts } from '/static/js/helpers/accounts.js';
(function(){
    const notifier = document.querySelector('notification-list');

    Accounts.all('{{ client_id }}').then((r) => {
        if (r.status == 'success') {
            const accounts = r.json.accounts;
            console.log(accounts);
        } else {
            notifier.add('error', r.message);
        }
    });
})();
</script>
{% endblock scripts %}