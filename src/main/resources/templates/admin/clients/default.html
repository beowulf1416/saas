{% extends '/templates/layout.html' %}

{% block content %}
<h1>Admin Clients Default</h1>
<client-list id="clientList"></client-list>
<modal-dialog id="clientDlg">
    <client-editor id="clientEditor"></client-editor>
</modal-dialog>
{% endblock %}

{% block scripts %}
<script type="module" src="/static/js/admin/admin.clients.js"></script>
<script type="module" src="/static/js/admin/clients/client.edit.js"></script>
<script type="module" src="/static/js/modal.dialog.js"></script>
<script>
(function(){
    const cl = document.getElementById('clientList');
    const dlg = document.getElementById('clientDlg');
    cl.addEventListener('addClient', function(e){
        // console.log(e);
        const modal = dlg.show();
        const bSave = modal.querySelector('button.form-btn-save');
        bSave.addEventListener('click', function(e) {
            
            dlg.hide();
        });
    });
})();
</script>
{% endblock scripts %}