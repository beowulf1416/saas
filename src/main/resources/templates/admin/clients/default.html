{% extends '/templates/layout.html' %}

{% block content %}
<h1>Admin Clients Default</h1>
<client-list id="clientList"></client-list>
<modal-dialog id="clientDlg">
    <form id="frmAddClient">
        <fieldset>
            <legend>Client Details</legend>
            <div class="form-input">
                <label for="name">Name</label>
                <input type="text" id="name" name="name" class="form-input" title="Name" />
            </div><!-- .form-input -->
            <div class="form-input">
                <label for="address">Address</label>
                <input type="text" id="address" name="address" class="form-input" title="Address" />
            </div><!-- .form-input -->
        </fieldset>
        <fieldset>
            <button type="button" class="form-button form-btn-save">Save</button>
        </fieldset>
    </form>
</modal-dialog>
{% endblock %}

{% block scripts %}
<script type="module" src="/static/js/admin/admin.clients.js"></script>
<script type="module" src="/static/js/modal.dialog.js"></script>
<script>
(function(){
    const cl = document.getElementById('clientList');
    const dlg = document.getElementById('clientDlg');
    cl.addEventListener('addClient', function(e){
        // console.log(e);
        const modal = dlg.show();
        const bSave = modal.querySelector('button.form-btn-save');
        bSave.addEventListener('click', function(e) {
            console.log('button save clicked');
            dlg.hide();
        });
    });
})();
</script>
{% endblock scripts %}